---
title: k8s资源对象
author: starifly
date: 2023-01-26T14:53:03+08:00
lastmod: 2023-01-26T14:53:03+08:00
categories: [k8s]
tags: [k8s]
draft: true
slug: k8s-resources
---

Kubernetes中的基本概念和术语大多是围绕资源对象（Resource Object）来说的，而资源对象在总体上可分为以下两类。

（1）某种资源的对象，例如节点（Node）、Pod、服务（Service）、存储卷（Volume）。  
（2）与资源对象相关的事物与动作，例如标签（Label）、注解（Annotation）、命名空间（Namespace）、部署（Deployment）、HPA、PVC。

资源对象一般包括几个通用属性：版本、类别（Kind）、名称、标签、注解，如下所述。

（1）在版本信息里包括了此对象所属的资源组，一些资源对象的属性会随着版本的升级而变化，在定义资源对象时要特别注意这一点。  
（2）类别属性用于定义资源对象的类型。  
（3）资源对象的名称（Name）、标签、注解这三个属性属于资源对象的元数据（metadata）。

- 资源对象的名称要唯一。
- 资源对象的标签是很重要的数据，也是Kubernetes的一大设计特性，比如通过标签来表明资源对象的特征、类别，以及通过标签筛选不同的资源对象并实现对象之间的关联、控制或协作功能。
- 注解可被理解为一种特殊的标签，不过更多地是与程序挂钩，通常用于实现资源对象属性的自定义扩展。

我们可以采用YAML或JSON格式声明（定义或创建）一个Kubernetes资源对象，每个资源对象都有自己的特定结构定义（可以理解为数据库中一个特定的表），并且统一保存在etcd这种非关系型数据库中，以实现最快的读写速度。此外，所有资源对象都可以通过Kubernetes提供的kubectl工具（或者API编程调用）执行增、删、改、查等操作。

一些资源对象有自己的生命周期及相应的状态，比如Pod，我们通过kubectl客户端工具创建一个Pod并将其提交到系统中后，它就处于等待调度的状态，调度成功后为Pending状态，等待容器镜像下载和启动、启动成功后为Running状态，正常停止后为Succeeded状态，非正常停止后为Failed状态。同样，PV也是具有明确生命周期的资源对象。对于这类资源对象，我们还需要了解其生命周期的细节及状态变更的原因，这有助于我们快速排查故障。

