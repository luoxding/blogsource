---
title: Shell中字符串、数值的比较
author: starifly
date: 2019-12-14T17:09:15+08:00
categories: [shell]
tags: [shell,linux]
draft: true
slug: comparison-of-strings-and-values-in-the-shell
---

经常记不住 shell 中数值和字符串的比较方法，以及其中一些注意的点，所以总结一下。

**整数比较：**

| 操作符 | 说明                                     |
|--------|------------------------------------------|
| -eq    | 等于,如:if [ "$a" -eq "$b" ]             |
| -ne    | 不等于,如:if [ "$a" -ne "$b" ]           |
| -gt    | 大于,如:if [ "$a" -gt "$b" ]             |
| -ge    | 大于等于,如:if [ "$a" -ge "$b" ]         |
| -lt    | 小于,如:if [ "$a" -lt "$b" ]             |
| -le    | 小于等于,如:if [ "$a" -le "$b" ]         |
| <      | 小于(需要双括号),如:(("$a" < "$b"))      |
| <=     | 小于等于(需要双括号),如:(("$a" <= "$b")) |
| >      | 大于(需要双括号),如:(("$a" > "$b"))      |
| >=     | 大于等于(需要双括号),如:(("$a" >= "$b")) |

**字符串比较：**

| 操作符 | 说明                                                                                                                                                                                                                                                                                                                                                              |
|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| =      | 等于,如:if [ "$a" = "$b" ]                                                                                                                                                                                                                                                                                                                                        |
| ==     | 等于,如:if [ "$a" == "$b" ], 与=等价 <br> 注意:==的功能在[[]]和[]中的行为是不同的,如下: <br> 1 [[ $a == z* ]]    # 如果$a以"z"开头(模式匹配)那么将为true <br> 2 [[ $a == "z*" ]] # 如果$a等于z*(字符匹配),那么结果为true <br> 3 <br> 4 [ $a == z* ]      # File globbing 和word splitting将会发生 <br> 5 [ "$a" == "z*" ] # 如果$a等于z*(字符匹配),那么结果为true |
| !=     | 不等于,如:if [ "$a" != "$b" ]， 这个操作符将在[[]]结构中使用模式匹配.                                                                                                                                                                                                                                                                                             |
| <      | 小于,在ASCII字母顺序下.如: <br> if [[ "$a" < "$b" ]] <br> if [ "$a" \< "$b" ]     在[]结构中"<"需要被转义.                                                                                                                                                                                                                                                        |
| >      | 大于,在ASCII字母顺序下.如: <br> if [[ "$a" > "$b" ]] <br> if [ "$a" \> "$b" ]  在[]结构中">"需要被转义.                                                                                                                                                                                                                                                           |
| -z     | 字符串为"null".就是长度为0.                                                                                                                                                                                                                                                                                                                                       |
| -n     | 字符串不为"null"                                                                                                                                                                                                                                                                                                                                                  |

>== 和 != 只能用于字符串比较，不可用于整数比较  
><、<=、> 和 >= 用于整数比较必须使用双括号  
>&&（逻辑与），||（逻辑或）要使用[[ ...  ]]结构  
>在判断条件中使用的变量，应包含在双引号中  
>在[ ... ]中使用 > 和 < 要进行转义  

## Reference

- [Shell中字符串、数值的比较](https://www.cnblogs.com/fanyunpeng/p/6412532.html)
- <https://www.jianshu.com/p/b051c0ed657a>
